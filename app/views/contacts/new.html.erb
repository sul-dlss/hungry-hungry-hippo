<%= turbo_frame_tag 'contact-form' do %>
  <% if @contact_form.welcome? %>
    <h2>Welcome</h2>
    <p class="mb-4">It looks like this is your first time here. Fill out the form below and we will help you get started.</p>
  <% end %>

  <p>* Required fields</p>

  <%= form_with model: @contact_form do |form| %>
    <%= form.hidden_field :welcome %>

    <%= render Elements::Forms::TextFieldComponent.new(form:, field_name: :name,
                                                       label: 'What is your name?', container_classes: 'mb-3') %>

    <%= render Elements::Forms::EmailFieldComponent.new(form:, field_name: :email_address,
                                                        label: 'What is your email address? *', container_classes: 'mb-3', required: true) %>

    <%= render Elements::Forms::TextFieldComponent.new(form:, field_name: :affiliation,
                                                       label: 'What is your Stanford affiliation? (e.g., student, staff, faculty, etc.) *',
                                                       container_classes: 'mb-3', required: true) %>

    <%= render Elements::Forms::SelectFieldComponent.new(form:, field_name: :help_how,
                                                         label: 'How can we help you? *', options: ContactForm::HELP_HOW_CHOICES,
                                                         container_classes: 'mb-3', required: true) %>

    <%= render Elements::Forms::TextareaFieldComponent.new(form:, field_name: :message,
                                                           label: 'Describe your issue, question, or what you would like to deposit. *',
                                                           container_classes: 'mb-4', required: true) %>

    <div class="d-flex mb-5">
      <%= render Elements::CancelButtonComponent.new(data: { bs_dismiss: 'modal' }, classes: 'me-2', link: '#') unless @contact_form.welcome? %>
      <%= render Elements::Forms::SubmitComponent.new(label: 'Submit') %>
    </div>

    <p>You may email us at <%= link_to(Settings.support_email, "mailto:#{Settings.support_email}") %>.
  <% end %>
<% end %>
