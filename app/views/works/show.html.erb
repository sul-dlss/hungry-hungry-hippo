<% content_for :breadcrumbs do %>
  <%= render Elements::BreadcrumbNavComponent.new do |component| %>
    <% component.with_breadcrumb(text: 'Dashboard', link: root_path) %>
    <% component.with_breadcrumb(text: @work_presenter.collection.title, link: collection_path(druid: @work_presenter.collection.druid)) %>
    <% component.with_breadcrumb(text: @work_presenter.title) %>
  <% end %>
<% end %>

<%= render Works::Show::ReviewComponent.new(work: @work, review_form: @review_form) %>
<%= render Works::Show::ReviewRejectedComponent.new(work: @work) %>
<%= render Works::Show::HeaderComponent.new(presenter: @work_presenter) %>

<%= render Elements::Tables::TableComponent.new(id: 'details-table', classes: 'mb-5', label: 'Details') do |component| %>
  <% component.with_row(label: 'Persistent Link', values: [@work_presenter.purl_link]) %>
  <% component.with_row(label: 'DOI', values: [@work_presenter.doi_value]) %>
  <% component.with_row(label: 'Collection', values: [@work_presenter.collection_link]) %>
  <% component.with_row(label: 'Depositor', values: [@work_presenter.depositor]) %>
  <% component.with_row(label: 'Version details', values: [@work_presenter.version]) %>
  <% component.with_row(label: 'Deposit created', values: [@work_presenter.deposited_at]) %>
<% end %>

<%= turbo_frame_tag @content, src: show_table_content_path(@content) do %>
  <%= render Elements::SpinnerComponent.new %>
<% end %>

<%= render Elements::Tables::TableComponent.new(id: 'title-table', classes: 'mb-5', label: 'Title and contact') do |component| %>
  <% component.with_row(label: 'Title', values: [@work_presenter.title]) %>
  <% component.with_row(label: 'Contact emails', values: [@work_presenter.contact_emails]) %>
<% end %>

<%= render Works::Show::ContributorsShowComponent.new(contributors: @work_presenter.contributors) %>

<%= render Elements::Tables::TableComponent.new(id: 'dates-table', classes: 'mb-5', label: 'Dates') do |component| %>
  <% component.with_row(label: 'Publication date', values: [@work_presenter.publication_date]) %>
  <% component.with_row(label: 'Creation date', values: [@work_presenter.creation_date]) %>
<% end %>

<%= render Elements::Tables::TableComponent.new(id: 'citation-table', classes: 'mb-5', label: 'Citation') do |component| %>
  <% component.with_row(label: 'Preferred citation', values: [@work_presenter.citation]) %>
<% end %>

<%= render Elements::Tables::TableComponent.new(id: 'description-table', classes: 'mb-5', label: 'Abstract and keywords') do |component| %>
  <% component.with_row(label: 'Abstract', values: [simple_format(@work_presenter.abstract).html_safe]) %> <%# erb_lint:disable ErbSafety %>
  <% component.with_row(label: 'Keywords', values: [@work_presenter.keywords]) %>
<% end %>

<%= render Elements::Tables::TableComponent.new(id: 'work-type-table', classes: 'mb-5', label: 'Type of deposit') do |component| %>
  <% component.with_row(label: 'Deposit type', values: [@work_presenter.work_type]) %>
  <% component.with_row(label: 'Deposit subtypes', values: [@work_presenter.all_work_subtypes]) %>
<% end %>

<%= render Elements::Tables::TableComponent.new(id: 'related-content-table', classes: 'mb-5', label: 'Related content') do |component| %>
  <% component.with_row(label: 'Related published work', values: @work_presenter.related_works) %>
  <% component.with_row(label: 'Related links', values: @work_presenter.related_links) %>
<% end %>

<%= render Elements::Tables::TableComponent.new(id: 'access-table', classes: 'mb-5', label: 'Access settings') do |component| %>
  <% component.with_row(label: 'Available', values: [@work_presenter.release_date_label]) %>
  <% component.with_row(label: 'Access', values: [@work_presenter.access_label]) %>
<% end %>

<%= render Elements::Tables::TableComponent.new(id: 'license-table', classes: 'mb-5', label: 'License and additional terms of use') do |component| %>
  <% component.with_row(label: 'License', values: [@work_presenter.license_label]) %>
  <% component.with_row(label: 'Terms of use', values: [@work_presenter.terms_of_use]) %>
<% end %>
