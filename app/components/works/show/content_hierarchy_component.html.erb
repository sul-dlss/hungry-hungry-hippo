<%= render Elements::Tables::TreegridTableComponent.new(id: 'files-table') do |component| %>
  <% component.with_caption do %><%= render Show::TableHeadingComponent.new(text: 'Files', presenter: work_presenter, tab: :files) %><% end %>
  <% component.with_headers([
                              { label: 'File Name' },
                              { label: 'Description' },
                              { label: 'Hide' }
                            ]) %>
  <% component.with_actions do %>
    <tr>
      <td colspan="3">
        <button type="button" data-action="treegrid#expandAll" class="btn btn-link fw-bold">Expand all</button> |
        <button type="button" data-action="treegrid#collapseAll" class="btn btn-link fw-bold">Collapse all</button>
      </td>
    </tr>
  <% end %>
  <% last_path_parts = [] %>
  <% content_files.each do |content_file| %>
    <%= render Works::Show::ContentFileHierarchyComponent.new(content_file:, last_path_parts:, component:) %>
    <% last_path_parts = content_file.path_parts %>
  <% end %>
<% end %>
