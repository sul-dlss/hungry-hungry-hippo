<%= render Elements::Tables::TreegridTableComponent.new(id: 'files-table') do |component| %>
  <% component.with_caption do %><%= render Show::TableHeadingComponent.new(text: 'Files', presenter: work_presenter, tab: :files) %><% end %>
  <% component.with_headers([
                              { label: 'File/folder name' },
                              { label: 'Description' },
                              { label: 'Hide' }
                            ]) %>
  <% if show_expand_collapse? %>
    <% component.with_row do |row_component| %>
       <% row_component.with_cell do %>
         <%= render Elements::Tables::ExpandCollapseControlComponent.new %>
       <% end %>
       <% row_component.with_cell %>
       <% row_component.with_cell %>
     <% end %>
  <% end %>
  <% last_path_parts = [] %>
  <% content_files.each do |content_file| %>
    <%= render Works::Show::ContentFileHierarchyComponent.new(content_file:, last_path_parts:, component:) %>
    <% last_path_parts = content_file.path_parts %>
  <% end %>
<% end %>
