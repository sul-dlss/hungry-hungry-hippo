<%= render Elements::Tables::TreegridTableComponent.new(id: 'content-table', label: 'File list', show_label: false) do |component| %>
  <%# These headers are duplicated in app/views/contents/_show.html.erb. %>
  <% component.with_headers([
                              { label: 'File/folder name' },
                              { label: 'Description', tooltip: helpers.t('content_files.edit.fields.description.tooltip_html'), style: 'width: 180px;' },
                              { label: 'Hide', tooltip: helpers.t('content_files.edit.fields.hide.tooltip_html'), style: 'width: 85px;' },
                              { label: 'Action', style: 'width: 85px;' }
                            ]) %>
  <% if show_expand_collapse? %>
    <% component.with_row_actions(colspan: 4) %>
  <% end %>
  <% last_path_parts = [] %>
  <% content_files.each do |content_file| %>
    <%= render Works::Edit::ContentFileHierarchyComponent.new(content_file:, last_path_parts:, component:) %>
    <% last_path_parts = content_file.path_parts %>
  <% end %>
<% end %>
